<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AKTIEN & KRYPTO HANTEL AG – KI</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
</head>
<body>

<h1>AKTIEN & KRYPTO HANTEL AG</h1>
<div class="subtitle">Live-Daten & KI-Prognosen (CHF)</div>

<!-- Live-Kurs + Warnung -->
<div class="infoBox" id="currentPrice" data-last="0">Aktueller Kurs: –</div>
<div class="infoBox" id="warning">Warnungen: –</div>

<!-- Steuerung -->
<div class="controls">
  <select id="assetSelect"></select>
  <select id="timeRange">
    <option value="20">1 Monat</option>
    <option value="40">2 Monate</option>
    <option value="120">6 Monate</option>
    <option value="240">1 Jahr</option>
  </select>
  <button id="analyseBtn">Analyse starten</button>
  <button onclick="openYahoo()">Yahoo</button>
  <button onclick="openTradingView()">TradingView</button>
  <button onclick="openSwissquote()">Swissquote</button>
</div>

<!-- Status & Loader -->
<div class="status" id="status">Bereit</div>
<div class="loader" id="loader">–</div>

<!-- Fortschrittsbalken -->
<div style="text-align:center;margin-bottom:10px;">
  <progress id="progressBar" value="0" max="100"></progress>
  <div id="progressText">Warte auf Berechnung…</div>
</div>

<!-- Chart -->
<canvas id="chart" height="280"></canvas>

<!-- Prognosetabelle -->
<table>
  <thead>
    <tr>
      <th>KI-Modell</th>
      <th>Prognose (CHF)</th>
      <th>Signal</th>
      <th>Δ</th>
      <th>Konfidenz</th>
      <th>Datum/Uhrzeit</th>
    </tr>
  </thead>
  <tbody id="out"></tbody>
</table>

<div class="footer">@ Analyse-Tool – keine Anlageberatung</div>

<script src="analyse.js"></script>

<script>
  // Blink Effekt beim Live-Kurs
  const currentPriceDiv = document.getElementById('currentPrice');
  const observer = new MutationObserver(() => {
    currentPriceDiv.classList.add('price-change');
    setTimeout(()=>currentPriceDiv.classList.remove('price-change'), 500);
  });
  observer.observe(currentPriceDiv, { childList: true });
</script>

</body>
</html>
